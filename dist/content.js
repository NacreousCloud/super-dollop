let r=null,u=!1,a=null,c=null;function m(){return r||(r=document.createElement("div"),r.style.position="fixed",r.style.zIndex="2147483647",r.style.pointerEvents="none",r.style.border="2px solid #5b9cff",r.style.background="rgba(91,156,255,0.15)",r.style.borderRadius="3px",document.documentElement.appendChild(r),r)}function y(){r==null||r.remove(),r=null}function g(e){const t=e.getBoundingClientRect();return{left:t.left,top:t.top,width:t.width,height:t.height}}function x(e){const t=g(e),n=m();n.style.left=t.left+"px",n.style.top=t.top+"px",n.style.width=Math.max(0,t.width)+"px",n.style.height=Math.max(0,t.height)+"px"}function E(e){const t=e.getAttribute("role");if(t)return t;const n=e.tagName.toLowerCase();if(n==="button")return"button";if(n==="a"&&e.href)return"link";if(n==="input"){const o=e.type;return o==="checkbox"?"checkbox":o==="radio"?"radio":"textbox"}return n==="select"?"combobox":n==="textarea"?"textbox":null}function v(e){var l,i;const t=e.getAttribute("aria-label");if(t)return t.trim()||null;const n=e.getAttribute("aria-labelledby");if(n){const d=n.split(/\s+/).map(h=>{var f,p;return((p=(f=document.getElementById(h))==null?void 0:f.textContent)==null?void 0:p.trim())||""}).filter(Boolean).join(" ").trim();if(d)return d}const o=(l=e.getAttribute)==null?void 0:l.call(e,"alt");if(o)return o;const s=((i=e.innerText)==null?void 0:i.trim())||"";return s||null}function w(e){const t=[];let n=e;for(;n&&n.nodeType===Node.ELEMENT_NODE&&t.length<6;){let o=n.nodeName.toLowerCase();if(n.id){o+=`#${CSS.escape(n.id)}`,t.unshift(o);break}else{let s=n,l=1,i=s.previousElementSibling;for(;i;)i.nodeName===n.nodeName&&l++,i=i.previousElementSibling;o+=`:nth-of-type(${l})`}t.unshift(o),n=n.parentElement}return t.join(" > ")}function N(e){return{role:E(e),name:v(e),selector:w(e)}}function k(){u||(u=!0,m(),a=e=>{const t=e.target;t&&x(t)},c=e=>{e.preventDefault(),e.stopPropagation();const t=e.target;if(!t)return;const n=N(t);chrome.runtime.sendMessage({type:"ELEMENT_PICKED",payload:n}),b()},window.addEventListener("mousemove",a,!0),window.addEventListener("click",c,!0),document.body.style.cursor="crosshair")}function b(){u&&(u=!1,window.removeEventListener("mousemove",a,!0),window.removeEventListener("click",c,!0),a=null,c=null,document.body.style.cursor="",y())}chrome.runtime.onMessage.addListener((e,t,n)=>{e.type==="START_INSPECT"?k():e.type==="STOP_INSPECT"?b():e.type==="PING"&&n({ok:!0})});
//# sourceMappingURL=content.js.map
